//= require easel
//= require tween
function cya(gameData) {
  function width() {
    return window.innerWidth;
  }
  function height() {
    return window.innerHeight - document.getElementById("ChooseYourAdventure").offsetTop;
  }
  function percent(fn, amount) {
    return fn() * (amount / 100);
  }
  function percentY(amount) {
    return percent(height, amount);
  }
  function percentX(amount) {
    return percent(width, amount);
  }
  function resizeCanvas(stage) {
    stage.canvas.width = width();
    stage.canvas.height = height();
  }
  var stage = new createjs.Stage("ChooseYourAdventure");
  var fill = new createjs.Graphics()
    .beginFill('#000')
    .drawRect(0, 0, width(), height());
  var shape = new createjs.Shape(fill);
  var container = new createjs.Container();
  container.addChild(shape);
  stage.addChild(container);
  createjs.Ticker.setFPS(30);
  createjs.Ticker.addEventListener('tick', stage);
  resizeCanvas(stage);

  function getMainScreen() {
    var mainScreenContainer = new createjs.Container();
    var title = new createjs.Text(gameData.title, "20px Arial", gameData.fontColor);
    var titleBounds = title.getBounds();
    title.x = (width() - titleBounds.width) / 2;
    title.y = percentY(3);
    mainScreenContainer.addChild(title);
    var description = new createjs.Text(gameData.description, "18px Arial", gameData.fontColor);
    description.lineWidth = width() - 20;
    var descriptionBounds = description.getBounds();
    description.x = (width() - descriptionBounds.width) / 2;
    description.y = percentY(15);
    mainScreenContainer.addChild(description);
    var playButton = new createjs.Text('Play', '25px Arial', '#ADD8E6');
    var playButtonBounds = playButton.getBounds();
    playButton.x = (width() - playButtonBounds.width) / 2;
    playButton.y = percentY(90);
    mainScreenContainer.addChild(playButton);
    return mainScreenContainer;
  }
  stage.addChild(getMainScreen());
}
